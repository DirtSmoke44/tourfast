{% extends 'main/layout.html' %}
{% load static %}

{% block title %}–°—Ç—Ä–∞–Ω—ã{% endblock %}

{% block links %}
<link rel="stylesheet" href="{% static 'main/css/countries.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Verdana&display=swap" rel="stylesheet">
<script src="{% static 'main/js/mappingcountry.js' %}"></script>
{% endblock %}

{% block body %}
{% csrf_token %}

<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
<h1 class="page-title">–°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π üåç</h1>

<!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å—Ç—Ä–∞–Ω -->
<section class="country-list">
{% for el in country %}
<div class="country-card">
    <div class="card-img">
        <img src="{{ el.photo.url }}" alt="{{ el.name }}">
    </div>
    <div class="card-info">
        <h3 class="text-title">{{ el.name }}</h3>
        <a href="{% url 'tours_page' %}?country={{ el.id }}" class="select-btn">–í—ã–±—Ä–∞—Ç—å</a>
        <button class="info-btn" onclick="openModal('{{ el.id }}')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞! -->
<div id="modal-{{ el.id }}" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('{{ el.id }}')">&times;</span>
        <h2>{{ el.name }}</h2>
        <img src="{{ el.photo.url }}" alt="{{ el.name }}" class="modal-image">
        <p>{{ el.description }}</p>
        <iframe
            src="https://www.google.com/maps?q={{ el.name }}&output=embed"
            class="modal-map"
            loading="lazy"
        ></iframe>
        <div class="modal-buttons">
            <a href="{% url 'tours_page' %}?country={{ el.id }}" class="select-btn">–í—ã–±—Ä–∞—Ç—å</a>
            <button class="back-btn" onclick="closeModal('{{ el.id }}')">–ù–∞–∑–∞–¥</button>
        </div>
    </div>
</div>
{% endfor %}
</section>
{% endblock %}
